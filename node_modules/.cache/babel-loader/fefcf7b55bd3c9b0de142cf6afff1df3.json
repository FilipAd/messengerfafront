{"ast":null,"code":"var childProcess = require('child_process');\n\nvar ifconfig = require('./ifconfig');\n\nvar Q = require('q');\n\nvar DEFAULT_GATEWAY_LINE_PATTERN = /Internet:[^]+?\\n(default.*?\\n)/m;\n\nmodule.exports.detectLocalIpV4Address = function () {\n  return Q.nfcall(childProcess.execFile, \"netstat\", [\"-r\", \"-n\", \"-f\", \"inet\"]).spread(function (stdout, stderr) {\n    var matches = stdout.match(DEFAULT_GATEWAY_LINE_PATTERN);\n\n    if (matches) {\n      var columns = matches[1].trim().split(/\\s+/);\n      var interfaceName = columns[columns.length - 1];\n      return interfaceName;\n    } else {\n      throw new Error(\"Could not find default gateway route in routing table.\");\n    }\n  }).then(ifconfig.getIpV4AddressForInterface);\n};","map":{"version":3,"sources":["/home/flic/messengerfafront/node_modules/local-ipv4-address/detectors/freebsd.js"],"names":["childProcess","require","ifconfig","Q","DEFAULT_GATEWAY_LINE_PATTERN","module","exports","detectLocalIpV4Address","nfcall","execFile","spread","stdout","stderr","matches","match","columns","trim","split","interfaceName","length","Error","then","getIpV4AddressForInterface"],"mappings":"AAAA,IAAIA,YAAY,GAAGC,OAAO,CAAC,eAAD,CAA1B;;AACA,IAAIC,QAAQ,GAAOD,OAAO,CAAC,YAAD,CAA1B;;AACA,IAAIE,CAAC,GAAcF,OAAO,CAAC,GAAD,CAA1B;;AAEA,IAAIG,4BAA4B,GAAG,iCAAnC;;AAEAC,MAAM,CAACC,OAAP,CAAeC,sBAAf,GAAwC,YAAU;AAC9C,SAAOJ,CAAC,CAACK,MAAF,CAASR,YAAY,CAACS,QAAtB,EAAgC,SAAhC,EAA2C,CAC1C,IAD0C,EAE1C,IAF0C,EAG1C,IAH0C,EAGpC,MAHoC,CAA3C,EAKFC,MALE,CAKK,UAASC,MAAT,EAAiBC,MAAjB,EAAwB;AAC5B,QAAIC,OAAO,GAAGF,MAAM,CAACG,KAAP,CAAaV,4BAAb,CAAd;;AACA,QAAGS,OAAH,EAAW;AACP,UAAIE,OAAO,GAAGF,OAAO,CAAC,CAAD,CAAP,CAAWG,IAAX,GAAkBC,KAAlB,CAAwB,KAAxB,CAAd;AACA,UAAIC,aAAa,GAAGH,OAAO,CAACA,OAAO,CAACI,MAAR,GAAe,CAAhB,CAA3B;AACA,aAAOD,aAAP;AACH,KAJD,MAIO;AACH,YAAM,IAAIE,KAAJ,CAAU,wDAAV,CAAN;AACH;AACJ,GAdE,EAeFC,IAfE,CAeGnB,QAAQ,CAACoB,0BAfZ,CAAP;AAgBH,CAjBD","sourcesContent":["var childProcess = require('child_process');\nvar ifconfig     = require('./ifconfig');\nvar Q            = require('q');\n\nvar DEFAULT_GATEWAY_LINE_PATTERN = /Internet:[^]+?\\n(default.*?\\n)/m;\n\nmodule.exports.detectLocalIpV4Address = function(){\n    return Q.nfcall(childProcess.execFile, \"netstat\", [\n            \"-r\",\n            \"-n\",\n            \"-f\", \"inet\"\n        ])\n        .spread(function(stdout, stderr){\n            var matches = stdout.match(DEFAULT_GATEWAY_LINE_PATTERN);\n            if(matches){\n                var columns = matches[1].trim().split(/\\s+/);\n                var interfaceName = columns[columns.length-1];\n                return interfaceName;\n            } else {\n                throw new Error(\"Could not find default gateway route in routing table.\");\n            }\n        })\n        .then(ifconfig.getIpV4AddressForInterface);\n};"]},"metadata":{},"sourceType":"script"}